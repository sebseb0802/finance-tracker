{% extends "dashboard/navbar-and-sidebar-base.html" %}

{% block title %}Log in{% endblock %}

{% block header-title %}Log in{% endblock %}

{% block extra_js %}
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById("register-button").onclick = function() {
                window.location.href = "{% url 'authentication:register' %}";
            };
        });
    </script>
{% endblock %}

{% block extra_css %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'authentication/login-style.css' %}">
{% endblock %}

{% block content %}
    {% if form.errors %}
        <h3>Alert:</h3>
        <ul class="error-messages" style="color: red">
            {% for field in form %}
                {% for error in field.errors %}
                    <li class="error">{{ error }}</li>
                {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
                <li class="error">{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <div class="form-content" style="color: black">
        <form method="post" action="{% url 'authentication:login' %}">
            {% csrf_token %}
            <label>Username:
                <input type="text" name="username" required autofocus>
            </label>
            <label>Password:
                <input type="password" name="password" required>
            </label>
            <button class="submit-button" type="submit">Log in</button>
        </form>
        <button class="submit-button" id="register-button">Register</button>
    </div>
{% endblock %}